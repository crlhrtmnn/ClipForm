import{c as T,a as v,d as se,f as M,s as G}from"../chunks/DArtHkHk.js";import{o as he}from"../chunks/B2Vnf32q.js";import{K as oe,L as pe,i as S,p as ne,b as X,c as l,g as h,t as W,e as ie,s as ce,h as B,r as i,d as p,u as we,n as me}from"../chunks/BjbBlfYJ.js";import{l as z,s as C,i as j,a as fe,b as Y}from"../chunks/DL2-Z6ex.js";import{I as P,a as E,c as Me,e as be,i as Te,u as A,s as ae}from"../chunks/LlG9SSuv.js";import{C as ye,X as Se,s as ze,d as Ce}from"../chunks/CEA3JsIK.js";import{p as Pe}from"../chunks/C6Z-BH3f.js";import{c as re,b as Ee}from"../chunks/CoaWwRG8.js";import"../chunks/E4fo9bj-.js";const Ne=!1,Le=!0,dt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Le,ssr:Ne},Symbol.toStringTag,{value:"Module"}));function Re(){const{subscribe:r,set:e,update:n}=pe({capabilities:null,permissionRequested:!1,lastError:null,mode:"auto"});return{subscribe:r,setCapabilities:s=>{n(t=>({...t,capabilities:s}))},setMode:s=>{n(t=>({...t,mode:s}))},setError:s=>{n(t=>({...t,lastError:s}))},markPermissionRequested:()=>{n(s=>({...s,permissionRequested:!0}))},clearError:()=>{n(s=>({...s,lastError:null}))},reset:()=>{e({capabilities:null,permissionRequested:!1,lastError:null,mode:"auto"})}}}const J=Re();oe(J,r=>r.capabilities?.canReadText&&(r.capabilities.permissionState==="granted"||r.capabilities.permissionState==="prompt"));oe(J,r=>r.capabilities?.canWriteText===!0);oe(J,r=>r.capabilities?.canReadText&&r.capabilities.permissionState==="prompt"&&!r.permissionRequested&&r.mode==="auto");const te="clipboard-converter-theme";function Ie(){const r=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=()=>{if(typeof window>"u")return"system";const d=localStorage.getItem(te);return d==="light"||d==="dark"||d==="system"?d:"system"},n=r(),s=e(),{subscribe:t,set:c,update:a}=pe({mode:s,systemPreference:n,resolvedTheme:s==="system"?n:s});let o=null;const k=(d,m)=>d==="system"?m:d;return{subscribe:t,setTheme:d=>{typeof window>"u"||(localStorage.setItem(te,d),a(m=>{const g=k(d,m.systemPreference);return{...m,mode:d,resolvedTheme:g}}))},toggleTheme:()=>{a(d=>{const m=d.resolvedTheme==="dark"?"light":"dark";return typeof window<"u"&&localStorage.setItem(te,m),{...d,mode:m,resolvedTheme:m}})},syncSystemPreference:()=>{if(typeof window>"u")return;const d=r();if(a(m=>{const g=k(m.mode,d);return{...m,systemPreference:d,resolvedTheme:g}}),!o){o=window.matchMedia("(prefers-color-scheme: dark)");const m=g=>{const x=g.matches?"dark":"light";a(w=>{const N=k(w.mode,x);return{...w,systemPreference:x,resolvedTheme:N}})};o.addEventListener?o.addEventListener("change",m):o.addListener(m)}},destroy:()=>{o&&(o.removeEventListener?o.removeEventListener("change",()=>{}):o.removeListener(()=>{}),o=null)}}}const F=Ie();function je(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];P(r,C({name:"circle-alert"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function Oe(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M12 11h4"}],["path",{d:"M12 16h4"}],["path",{d:"M8 11h.01"}],["path",{d:"M8 16h.01"}]];P(r,C({name:"clipboard-list"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function qe(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];P(r,C({name:"info"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function ue(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21"}]];P(r,C({name:"monitor"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function ve(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];P(r,C({name:"moon"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function Ae(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z"}],["path",{d:"M20 2v4"}],["path",{d:"M22 4h-4"}],["circle",{cx:"4",cy:"20",r:"2"}]];P(r,C({name:"sparkles"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function ge(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];P(r,C({name:"sun"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}function We(r,e){const n=z(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];P(r,C({name:"triangle-alert"},()=>n,{get iconNode(){return s},children:(t,c)=>{var a=T(),o=S(a);E(o,e,"default",{}),v(t,a)},$$slots:{default:!0}}))}var He=M('<button class="w-full flex items-center justify-between px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"><div class="flex items-center gap-2"><!> <span> </span></div> <!></button>'),Ke=M('<div class="absolute right-0 mt-2 w-40 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-50"><div class="py-1"></div></div>'),De=M('<div class="relative"><button class="flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors" aria-label="Toggle theme"><!></button> <!></div>');function Ge(r,e){ne(e,!0);const n=()=>Y(F,"$themeStore",s),[s,t]=fe();let c=ce(!1),a=ce(null);const o=[{value:"light",label:"Light",component:ge},{value:"dark",label:"Dark",component:ve},{value:"system",label:"System",component:ue}],k=B(()=>n().mode==="system"?ue:n().resolvedTheme==="dark"?ve:ge),d=b=>{console.log("Theme selected:",b),F.setTheme(b),console.log("Theme store after setTheme:",n()),X(c,!1)},m=b=>{h(a)&&!h(a).contains(b.target)&&X(c,!1)};he(()=>(document.addEventListener("click",m),()=>{document.removeEventListener("click",m)}));var g=De(),x=l(g);x.__click=()=>X(c,!h(c));var w=l(x);re(w,()=>h(k),(b,L)=>{L(b,{size:18})}),i(x);var N=p(x,2);{var O=b=>{var L=Ke(),q=l(L);be(q,21,()=>o,Te,(U,R)=>{const Z=B(()=>h(R).component);var I=He();I.__click=()=>d(h(R).value);var H=l(I),Q=l(H);re(Q,()=>h(Z),(y,K)=>{K(y,{size:16})});var V=p(Q,2),u=l(V,!0);i(V),i(H);var f=p(H,2);{var _=y=>{ye(y,{size:16,class:"text-blue-600 dark:text-blue-400"})};j(f,y=>{n().mode===h(R).value&&y(_)})}i(I),W(()=>G(u,h(R).label)),v(U,I)}),i(q),i(L),v(b,L)};j(N,b=>{h(c)&&b(O)})}i(g),Ee(g,b=>X(a,b),()=>h(a)),W(()=>Me(x,"aria-expanded",h(c))),v(r,g),ie(),t()}se(["click"]);var Qe=M('<div role="alert"><div class="shrink-0"><!></div> <p class="text-sm font-medium flex-1"> </p> <button class="shrink-0 text-white/80 hover:text-white transition-colors" aria-label="Close"><!></button></div>');function Ve(r,e){ne(e,!0);const n={success:ye,error:je,warning:We,info:qe},s={success:"bg-green-500",error:"bg-red-500",warning:"bg-amber-500",info:"bg-blue-500"},t=B(()=>n[e.toast.type]);var c=Qe();let a;var o=l(c),k=l(o);re(k,()=>h(t),(w,N)=>{N(w,{size:18,strokeWidth:2.5})}),i(o);var d=p(o,2),m=l(d,!0);i(d);var g=p(d,2);g.__click=()=>A.removeToast(e.toast.id);var x=l(g);Se(x,{size:16}),i(g),i(c),W(()=>{a=ae(c,1,`toast-item px-4 py-3 rounded-lg shadow-lg max-w-sm text-white flex items-center gap-3 ${s[e.toast.type]??""}`,"svelte-zemmny",a,{"toast-entering":e.toast.state==="entering","toast-visible":e.toast.state==="visible","toast-exiting":e.toast.state==="exiting"}),G(m,e.toast.message)}),v(r,c),ie()}se(["click"]);var Xe=M('<div class="fixed top-4 right-4 z-50 space-y-2 overflow-hidden"></div>'),Ye=M('<button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600">Cancel</button>'),Be=M('<button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700">Confirm</button>'),Fe=M('<div class="fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50" role="button" tabindex="0"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6" role="dialog" tabindex="-1"><h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100"> </h3> <p class="text-gray-600 dark:text-gray-400 mb-6"> </p> <div class="flex justify-end gap-2"><!> <!></div></div></div>'),Je=M('<div class="fixed inset-0 bg-black bg-opacity-30 dark:bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 flex items-center gap-4"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600" aria-label="Loading"></div> <p class="text-gray-700 dark:text-gray-300"> </p></div></div>'),Ue=M('<div class="min-h-screen bg-gray-50 dark:bg-gray-900"><header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center"><a href="/" class="text-xl font-bold text-gray-900 dark:text-gray-100">ðŸ“‹âœ¨</a></div> <nav class="flex items-center gap-4"><a href="/"><!> Converter</a> <a href="/templates"><!> Templates</a> <!></nav></div></div></header> <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><!></main> <!> <!> <!></div>');function lt(r,e){ne(e,!0);const n=()=>Y(F,"$themeStore",c),s=()=>Y(Pe,"$page",c),t=()=>Y(A,"$uiStore",c),[c,a]=fe();let o=B(()=>n().resolvedTheme);we(()=>{typeof document<"u"&&(console.log("Theme effect triggered. Current theme:",h(o)),h(o)==="dark"?(console.log("Adding dark class to html"),document.documentElement.classList.add("dark")):(console.log("Removing dark class from html"),document.documentElement.classList.remove("dark")),console.log("HTML classes:",document.documentElement.className))}),he(async()=>{F.syncSystemPreference();try{const u=await Ce();J.setCapabilities(u)}catch(u){console.error("Error detecting clipboard capabilities:",u)}});var k=Ue(),d=l(k),m=l(d),g=l(m),x=p(l(g),2),w=l(x),N=l(w);Oe(N,{size:18}),me(),i(w);var O=p(w,2),b=l(O);Ae(b,{size:18}),me(),i(O);var L=p(O,2);Ge(L,{}),i(x),i(g),i(m),i(d);var q=p(d,2),U=l(q);ze(U,()=>e.children),i(q);var R=p(q,2);{var Z=u=>{var f=Xe();be(f,5,()=>t().toasts,_=>_.id,(_,y)=>{Ve(_,{get toast(){return h(y)}})}),i(f),v(u,f)};j(R,u=>{t().toasts.length>0&&u(Z)})}var I=p(R,2);{var H=u=>{var f=Fe();f.__click=()=>A.closeModal(),f.__keydown=$=>{$.key==="Escape"&&A.closeModal()};var _=l(f);_.__click=$=>$.stopPropagation(),_.__keydown=$=>$.stopPropagation();var y=l(_),K=l(y,!0);i(y);var ee=p(y,2),xe=l(ee,!0);i(ee);var de=p(ee,2),le=l(de);{var _e=$=>{var D=Ye();D.__click=()=>{t().modal.onCancel?.(),A.closeModal()},v($,D)};j(le,$=>{t().modal.onCancel&&$(_e)})}var $e=p(le,2);{var ke=$=>{var D=Be();D.__click=()=>{t().modal.onConfirm?.(),A.closeModal()},v($,D)};j($e,$=>{t().modal.onConfirm&&$(ke)})}i(de),i(_),i(f),W(()=>{G(K,t().modal.title),G(xe,t().modal.content)}),v(u,f)};j(I,u=>{t().modal.isOpen&&u(H)})}var Q=p(I,2);{var V=u=>{var f=Je(),_=l(f),y=p(l(_),2),K=l(y,!0);i(y),i(_),i(f),W(()=>G(K,t().loadingMessage)),v(u,f)};j(Q,u=>{t().isLoading&&u(V)})}i(k),W(u=>{ae(w,1,`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium ${s().url.pathname==="/"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`),ae(O,1,`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium ${u??""}`)},[()=>s().url.pathname.startsWith("/templates")?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"]),v(r,k),ie(),a()}se(["click","keydown"]);export{lt as component,dt as universal};
