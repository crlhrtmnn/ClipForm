import{c as he,a as N,d as Se,f as z,s as re}from"./DArtHkHk.js";import"./E4fo9bj-.js";import{i as ge,p as Ee,d as L,c as R,g as b,e as Re,b as ce,s as Le,r as S,t as G,h as _e,al as de}from"./BjbBlfYJ.js";import{I as pe,a as me,e as ae,b as Ne,i as ie,c as fe,r as K,d as Ce,f as Fe,g as Be,h as ne}from"./LlG9SSuv.js";import{l as we,s as ye,p as Oe,i as se}from"./DL2-Z6ex.js";import{C as Ue,b as ze,v as He}from"./DRZLMWTu.js";import{T as $e}from"./BzmJ6XsI.js";function lr(C,g){const _=we(g,["children","$$slots","$$events","$$legacy"]);const k=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];pe(C,ye({name:"arrow-left"},()=>_,{get iconNode(){return k},children:(p,e)=>{var r=he(),a=ge(r);me(a,g,"default",{}),N(p,r)},$$slots:{default:!0}}))}function hr(C,g){const _=we(g,["children","$$slots","$$events","$$legacy"]);const k=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];pe(C,ye({name:"save"},()=>_,{get iconNode(){return k},children:(p,e)=>{var r=he(),a=ge(r);me(a,g,"default",{}),N(p,r)},$$slots:{default:!0}}))}var ve={exports:{}},be;function je(){return be||(be=1,(function(C){var g=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},_=-1,k=1,p=0;g.Diff=function(e,r){return[e,r]},g.prototype.diff_main=function(e,r,a,s){typeof s>"u"&&(this.Diff_Timeout<=0?s=Number.MAX_VALUE:s=new Date().getTime()+this.Diff_Timeout*1e3);var t=s;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e==r)return e?[new g.Diff(p,e)]:[];typeof a>"u"&&(a=!0);var n=a,i=this.diff_commonPrefix(e,r),l=e.substring(0,i);e=e.substring(i),r=r.substring(i),i=this.diff_commonSuffix(e,r);var h=e.substring(e.length-i);e=e.substring(0,e.length-i),r=r.substring(0,r.length-i);var o=this.diff_compute_(e,r,n,t);return l&&o.unshift(new g.Diff(p,l)),h&&o.push(new g.Diff(p,h)),this.diff_cleanupMerge(o),o},g.prototype.diff_compute_=function(e,r,a,s){var t;if(!e)return[new g.Diff(k,r)];if(!r)return[new g.Diff(_,e)];var n=e.length>r.length?e:r,i=e.length>r.length?r:e,l=n.indexOf(i);if(l!=-1)return t=[new g.Diff(k,n.substring(0,l)),new g.Diff(p,i),new g.Diff(k,n.substring(l+i.length))],e.length>r.length&&(t[0][0]=t[2][0]=_),t;if(i.length==1)return[new g.Diff(_,e),new g.Diff(k,r)];var h=this.diff_halfMatch_(e,r);if(h){var o=h[0],v=h[1],c=h[2],m=h[3],w=h[4],u=this.diff_main(o,c,a,s),d=this.diff_main(v,m,a,s);return u.concat([new g.Diff(p,w)],d)}return a&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,s):this.diff_bisect_(e,r,s)},g.prototype.diff_lineMode_=function(e,r,a){var s=this.diff_linesToChars_(e,r);e=s.chars1,r=s.chars2;var t=s.lineArray,n=this.diff_main(e,r,!1,a);this.diff_charsToLines_(n,t),this.diff_cleanupSemantic(n),n.push(new g.Diff(p,""));for(var i=0,l=0,h=0,o="",v="";i<n.length;){switch(n[i][0]){case k:h++,v+=n[i][1];break;case _:l++,o+=n[i][1];break;case p:if(l>=1&&h>=1){n.splice(i-l-h,l+h),i=i-l-h;for(var c=this.diff_main(o,v,!1,a),m=c.length-1;m>=0;m--)n.splice(i,0,c[m]);i=i+c.length}h=0,l=0,o="",v="";break}i++}return n.pop(),n},g.prototype.diff_bisect_=function(e,r,a){for(var s=e.length,t=r.length,n=Math.ceil((s+t)/2),i=n,l=2*n,h=new Array(l),o=new Array(l),v=0;v<l;v++)h[v]=-1,o[v]=-1;h[i+1]=0,o[i+1]=0;for(var c=s-t,m=c%2!=0,w=0,u=0,d=0,y=0,f=0;f<n&&!(new Date().getTime()>a);f++){for(var M=-f+w;M<=f-u;M+=2){var D=i+M,A;M==-f||M!=f&&h[D-1]<h[D+1]?A=h[D+1]:A=h[D-1]+1;for(var E=A-M;A<s&&E<t&&e.charAt(A)==r.charAt(E);)A++,E++;if(h[D]=A,A>s)u+=2;else if(E>t)w+=2;else if(m){var I=i+c-M;if(I>=0&&I<l&&o[I]!=-1){var T=s-o[I];if(A>=T)return this.diff_bisectSplit_(e,r,A,E,a)}}}for(var P=-f+d;P<=f-y;P+=2){var I=i+P,T;P==-f||P!=f&&o[I-1]<o[I+1]?T=o[I+1]:T=o[I-1]+1;for(var B=T-P;T<s&&B<t&&e.charAt(s-T-1)==r.charAt(t-B-1);)T++,B++;if(o[I]=T,T>s)y+=2;else if(B>t)d+=2;else if(!m){var D=i+c-P;if(D>=0&&D<l&&h[D]!=-1){var A=h[D],E=i+A-D;if(T=s-T,A>=T)return this.diff_bisectSplit_(e,r,A,E,a)}}}}return[new g.Diff(_,e),new g.Diff(k,r)]},g.prototype.diff_bisectSplit_=function(e,r,a,s,t){var n=e.substring(0,a),i=r.substring(0,s),l=e.substring(a),h=r.substring(s),o=this.diff_main(n,i,!1,t),v=this.diff_main(l,h,!1,t);return o.concat(v)},g.prototype.diff_linesToChars_=function(e,r){var a=[],s={};a[0]="";function t(h){for(var o="",v=0,c=-1,m=a.length;c<h.length-1;){c=h.indexOf(`
`,v),c==-1&&(c=h.length-1);var w=h.substring(v,c+1);(s.hasOwnProperty?s.hasOwnProperty(w):s[w]!==void 0)?o+=String.fromCharCode(s[w]):(m==n&&(w=h.substring(v),c=h.length),o+=String.fromCharCode(m),s[w]=m,a[m++]=w),v=c+1}return o}var n=4e4,i=t(e);n=65535;var l=t(r);return{chars1:i,chars2:l,lineArray:a}},g.prototype.diff_charsToLines_=function(e,r){for(var a=0;a<e.length;a++){for(var s=e[a][1],t=[],n=0;n<s.length;n++)t[n]=r[s.charCodeAt(n)];e[a][1]=t.join("")}},g.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!=r.charAt(0))return 0;for(var a=0,s=Math.min(e.length,r.length),t=s,n=0;a<t;)e.substring(n,t)==r.substring(n,t)?(a=t,n=a):s=t,t=Math.floor((s-a)/2+a);return t},g.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!=r.charAt(r.length-1))return 0;for(var a=0,s=Math.min(e.length,r.length),t=s,n=0;a<t;)e.substring(e.length-t,e.length-n)==r.substring(r.length-t,r.length-n)?(a=t,n=a):s=t,t=Math.floor((s-a)/2+a);return t},g.prototype.diff_commonOverlap_=function(e,r){var a=e.length,s=r.length;if(a==0||s==0)return 0;a>s?e=e.substring(a-s):a<s&&(r=r.substring(0,a));var t=Math.min(a,s);if(e==r)return t;for(var n=0,i=1;;){var l=e.substring(t-i),h=r.indexOf(l);if(h==-1)return n;i+=h,(h==0||e.substring(t-i)==r.substring(0,i))&&(n=i,i++)}},g.prototype.diff_halfMatch_=function(e,r){if(this.Diff_Timeout<=0)return null;var a=e.length>r.length?e:r,s=e.length>r.length?r:e;if(a.length<4||s.length*2<a.length)return null;var t=this;function n(u,d,y){for(var f=u.substring(y,y+Math.floor(u.length/4)),M=-1,D="",A,E,I,T;(M=d.indexOf(f,M+1))!=-1;){var P=t.diff_commonPrefix(u.substring(y),d.substring(M)),B=t.diff_commonSuffix(u.substring(0,y),d.substring(0,M));D.length<B+P&&(D=d.substring(M-B,M)+d.substring(M,M+P),A=u.substring(0,y-B),E=u.substring(y+P),I=d.substring(0,M-B),T=d.substring(M+P))}return D.length*2>=u.length?[A,E,I,T,D]:null}var i=n(a,s,Math.ceil(a.length/4)),l=n(a,s,Math.ceil(a.length/2)),h;if(!i&&!l)return null;l?i?h=i[4].length>l[4].length?i:l:h=l:h=i;var o,v,c,m;e.length>r.length?(o=h[0],v=h[1],c=h[2],m=h[3]):(c=h[0],m=h[1],o=h[2],v=h[3]);var w=h[4];return[o,v,c,m,w]},g.prototype.diff_cleanupSemantic=function(e){for(var r=!1,a=[],s=0,t=null,n=0,i=0,l=0,h=0,o=0;n<e.length;)e[n][0]==p?(a[s++]=n,i=h,l=o,h=0,o=0,t=e[n][1]):(e[n][0]==k?h+=e[n][1].length:o+=e[n][1].length,t&&t.length<=Math.max(i,l)&&t.length<=Math.max(h,o)&&(e.splice(a[s-1],0,new g.Diff(_,t)),e[a[s-1]+1][0]=k,s--,s--,n=s>0?a[s-1]:-1,i=0,l=0,h=0,o=0,t=null,r=!0)),n++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),n=1;n<e.length;){if(e[n-1][0]==_&&e[n][0]==k){var v=e[n-1][1],c=e[n][1],m=this.diff_commonOverlap_(v,c),w=this.diff_commonOverlap_(c,v);m>=w?(m>=v.length/2||m>=c.length/2)&&(e.splice(n,0,new g.Diff(p,c.substring(0,m))),e[n-1][1]=v.substring(0,v.length-m),e[n+1][1]=c.substring(m),n++):(w>=v.length/2||w>=c.length/2)&&(e.splice(n,0,new g.Diff(p,v.substring(0,w))),e[n-1][0]=k,e[n-1][1]=c.substring(0,c.length-w),e[n+1][0]=_,e[n+1][1]=v.substring(w),n++),n++}n++}},g.prototype.diff_cleanupSemanticLossless=function(e){function r(w,u){if(!w||!u)return 6;var d=w.charAt(w.length-1),y=u.charAt(0),f=d.match(g.nonAlphaNumericRegex_),M=y.match(g.nonAlphaNumericRegex_),D=f&&d.match(g.whitespaceRegex_),A=M&&y.match(g.whitespaceRegex_),E=D&&d.match(g.linebreakRegex_),I=A&&y.match(g.linebreakRegex_),T=E&&w.match(g.blanklineEndRegex_),P=I&&u.match(g.blanklineStartRegex_);return T||P?5:E||I?4:f&&!D&&A?3:D||A?2:f||M?1:0}for(var a=1;a<e.length-1;){if(e[a-1][0]==p&&e[a+1][0]==p){var s=e[a-1][1],t=e[a][1],n=e[a+1][1],i=this.diff_commonSuffix(s,t);if(i){var l=t.substring(t.length-i);s=s.substring(0,s.length-i),t=l+t.substring(0,t.length-i),n=l+n}for(var h=s,o=t,v=n,c=r(s,t)+r(t,n);t.charAt(0)===n.charAt(0);){s+=t.charAt(0),t=t.substring(1)+n.charAt(0),n=n.substring(1);var m=r(s,t)+r(t,n);m>=c&&(c=m,h=s,o=t,v=n)}e[a-1][1]!=h&&(h?e[a-1][1]=h:(e.splice(a-1,1),a--),e[a][1]=o,v?e[a+1][1]=v:(e.splice(a+1,1),a--))}a++}},g.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,g.whitespaceRegex_=/\s/,g.linebreakRegex_=/[\r\n]/,g.blanklineEndRegex_=/\n\r?\n$/,g.blanklineStartRegex_=/^\r?\n\r?\n/,g.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,a=[],s=0,t=null,n=0,i=!1,l=!1,h=!1,o=!1;n<e.length;)e[n][0]==p?(e[n][1].length<this.Diff_EditCost&&(h||o)?(a[s++]=n,i=h,l=o,t=e[n][1]):(s=0,t=null),h=o=!1):(e[n][0]==_?o=!0:h=!0,t&&(i&&l&&h&&o||t.length<this.Diff_EditCost/2&&i+l+h+o==3)&&(e.splice(a[s-1],0,new g.Diff(_,t)),e[a[s-1]+1][0]=k,s--,t=null,i&&l?(h=o=!0,s=0):(s--,n=s>0?a[s-1]:-1,h=o=!1),r=!0)),n++;r&&this.diff_cleanupMerge(e)},g.prototype.diff_cleanupMerge=function(e){e.push(new g.Diff(p,""));for(var r=0,a=0,s=0,t="",n="",i;r<e.length;)switch(e[r][0]){case k:s++,n+=e[r][1],r++;break;case _:a++,t+=e[r][1],r++;break;case p:a+s>1?(a!==0&&s!==0&&(i=this.diff_commonPrefix(n,t),i!==0&&(r-a-s>0&&e[r-a-s-1][0]==p?e[r-a-s-1][1]+=n.substring(0,i):(e.splice(0,0,new g.Diff(p,n.substring(0,i))),r++),n=n.substring(i),t=t.substring(i)),i=this.diff_commonSuffix(n,t),i!==0&&(e[r][1]=n.substring(n.length-i)+e[r][1],n=n.substring(0,n.length-i),t=t.substring(0,t.length-i))),r-=a+s,e.splice(r,a+s),t.length&&(e.splice(r,0,new g.Diff(_,t)),r++),n.length&&(e.splice(r,0,new g.Diff(k,n)),r++),r++):r!==0&&e[r-1][0]==p?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,a=0,t="",n="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==p&&e[r+1][0]==p&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&this.diff_cleanupMerge(e)},g.prototype.diff_xIndex=function(e,r){var a=0,s=0,t=0,n=0,i;for(i=0;i<e.length&&(e[i][0]!==k&&(a+=e[i][1].length),e[i][0]!==_&&(s+=e[i][1].length),!(a>r));i++)t=a,n=s;return e.length!=i&&e[i][0]===_?n:n+(r-t)},g.prototype.diff_prettyHtml=function(e){for(var r=[],a=/&/g,s=/</g,t=/>/g,n=/\n/g,i=0;i<e.length;i++){var l=e[i][0],h=e[i][1],o=h.replace(a,"&amp;").replace(s,"&lt;").replace(t,"&gt;").replace(n,"&para;<br>");switch(l){case k:r[i]='<ins style="background:#e6ffe6;">'+o+"</ins>";break;case _:r[i]='<del style="background:#ffe6e6;">'+o+"</del>";break;case p:r[i]="<span>"+o+"</span>";break}}return r.join("")},g.prototype.diff_text1=function(e){for(var r=[],a=0;a<e.length;a++)e[a][0]!==k&&(r[a]=e[a][1]);return r.join("")},g.prototype.diff_text2=function(e){for(var r=[],a=0;a<e.length;a++)e[a][0]!==_&&(r[a]=e[a][1]);return r.join("")},g.prototype.diff_levenshtein=function(e){for(var r=0,a=0,s=0,t=0;t<e.length;t++){var n=e[t][0],i=e[t][1];switch(n){case k:a+=i.length;break;case _:s+=i.length;break;case p:r+=Math.max(a,s),a=0,s=0;break}}return r+=Math.max(a,s),r},g.prototype.diff_toDelta=function(e){for(var r=[],a=0;a<e.length;a++)switch(e[a][0]){case k:r[a]="+"+encodeURI(e[a][1]);break;case _:r[a]="-"+e[a][1].length;break;case p:r[a]="="+e[a][1].length;break}return r.join("	").replace(/%20/g," ")},g.prototype.diff_fromDelta=function(e,r){for(var a=[],s=0,t=0,n=r.split(/\t/g),i=0;i<n.length;i++){var l=n[i].substring(1);switch(n[i].charAt(0)){case"+":try{a[s++]=new g.Diff(k,decodeURI(l))}catch{throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+l);var o=e.substring(t,t+=h);n[i].charAt(0)=="="?a[s++]=new g.Diff(p,o):a[s++]=new g.Diff(_,o);break;default:if(n[i])throw new Error("Invalid diff operation in diff_fromDelta: "+n[i])}}if(t!=e.length)throw new Error("Delta length ("+t+") does not equal source text length ("+e.length+").");return a},g.prototype.match_main=function(e,r,a){if(e==null||r==null||a==null)throw new Error("Null input. (match_main)");return a=Math.max(0,Math.min(a,e.length)),e==r?0:e.length?e.substring(a,a+r.length)==r?a:this.match_bitap_(e,r,a):-1},g.prototype.match_bitap_=function(e,r,a){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(r),t=this;function n(A,E){var I=A/r.length,T=Math.abs(a-E);return t.Match_Distance?I+T/t.Match_Distance:T?1:I}var i=this.Match_Threshold,l=e.indexOf(r,a);l!=-1&&(i=Math.min(n(0,l),i),l=e.lastIndexOf(r,a+r.length),l!=-1&&(i=Math.min(n(0,l),i)));var h=1<<r.length-1;l=-1;for(var o,v,c=r.length+e.length,m,w=0;w<r.length;w++){for(o=0,v=c;o<v;)n(w,a+v)<=i?o=v:c=v,v=Math.floor((c-o)/2+o);c=v;var u=Math.max(1,a-v+1),d=Math.min(a+v,e.length)+r.length,y=Array(d+2);y[d+1]=(1<<w)-1;for(var f=d;f>=u;f--){var M=s[e.charAt(f-1)];if(w===0?y[f]=(y[f+1]<<1|1)&M:y[f]=(y[f+1]<<1|1)&M|((m[f+1]|m[f])<<1|1)|m[f+1],y[f]&h){var D=n(w,f-1);if(D<=i)if(i=D,l=f-1,l>a)u=Math.max(1,2*a-l);else break}}if(n(w+1,a)>i)break;m=y}return l},g.prototype.match_alphabet_=function(e){for(var r={},a=0;a<e.length;a++)r[e.charAt(a)]=0;for(var a=0;a<e.length;a++)r[e.charAt(a)]|=1<<e.length-a-1;return r},g.prototype.patch_addContext_=function(e,r){if(r.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var a=r.substring(e.start2,e.start2+e.length1),s=0;r.indexOf(a)!=r.lastIndexOf(a)&&a.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)s+=this.Patch_Margin,a=r.substring(e.start2-s,e.start2+e.length1+s);s+=this.Patch_Margin;var t=r.substring(e.start2-s,e.start2);t&&e.diffs.unshift(new g.Diff(p,t));var n=r.substring(e.start2+e.length1,e.start2+e.length1+s);n&&e.diffs.push(new g.Diff(p,n)),e.start1-=t.length,e.start2-=t.length,e.length1+=t.length+n.length,e.length2+=t.length+n.length}},g.prototype.patch_make=function(e,r,a){var s,t;if(typeof e=="string"&&typeof r=="string"&&typeof a>"u")s=e,t=this.diff_main(s,r,!0),t.length>2&&(this.diff_cleanupSemantic(t),this.diff_cleanupEfficiency(t));else if(e&&typeof e=="object"&&typeof r>"u"&&typeof a>"u")t=e,s=this.diff_text1(t);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof a>"u")s=e,t=r;else if(typeof e=="string"&&typeof r=="string"&&a&&typeof a=="object")s=e,t=a;else throw new Error("Unknown call format to patch_make.");if(t.length===0)return[];for(var n=[],i=new g.patch_obj,l=0,h=0,o=0,v=s,c=s,m=0;m<t.length;m++){var w=t[m][0],u=t[m][1];switch(!l&&w!==p&&(i.start1=h,i.start2=o),w){case k:i.diffs[l++]=t[m],i.length2+=u.length,c=c.substring(0,o)+u+c.substring(o);break;case _:i.length1+=u.length,i.diffs[l++]=t[m],c=c.substring(0,o)+c.substring(o+u.length);break;case p:u.length<=2*this.Patch_Margin&&l&&t.length!=m+1?(i.diffs[l++]=t[m],i.length1+=u.length,i.length2+=u.length):u.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(i,v),n.push(i),i=new g.patch_obj,l=0,v=c,h=o);break}w!==k&&(h+=u.length),w!==_&&(o+=u.length)}return l&&(this.patch_addContext_(i,v),n.push(i)),n},g.prototype.patch_deepCopy=function(e){for(var r=[],a=0;a<e.length;a++){var s=e[a],t=new g.patch_obj;t.diffs=[];for(var n=0;n<s.diffs.length;n++)t.diffs[n]=new g.Diff(s.diffs[n][0],s.diffs[n][1]);t.start1=s.start1,t.start2=s.start2,t.length1=s.length1,t.length2=s.length2,r[a]=t}return r},g.prototype.patch_apply=function(e,r){if(e.length==0)return[r,[]];e=this.patch_deepCopy(e);var a=this.patch_addPadding(e);r=a+r+a,this.patch_splitMax(e);for(var s=0,t=[],n=0;n<e.length;n++){var i=e[n].start2+s,l=this.diff_text1(e[n].diffs),h,o=-1;if(l.length>this.Match_MaxBits?(h=this.match_main(r,l.substring(0,this.Match_MaxBits),i),h!=-1&&(o=this.match_main(r,l.substring(l.length-this.Match_MaxBits),i+l.length-this.Match_MaxBits),(o==-1||h>=o)&&(h=-1))):h=this.match_main(r,l,i),h==-1)t[n]=!1,s-=e[n].length2-e[n].length1;else{t[n]=!0,s=h-i;var v;if(o==-1?v=r.substring(h,h+l.length):v=r.substring(h,o+this.Match_MaxBits),l==v)r=r.substring(0,h)+this.diff_text2(e[n].diffs)+r.substring(h+l.length);else{var c=this.diff_main(l,v,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(c)/l.length>this.Patch_DeleteThreshold)t[n]=!1;else{this.diff_cleanupSemanticLossless(c);for(var m=0,w,u=0;u<e[n].diffs.length;u++){var d=e[n].diffs[u];d[0]!==p&&(w=this.diff_xIndex(c,m)),d[0]===k?r=r.substring(0,h+w)+d[1]+r.substring(h+w):d[0]===_&&(r=r.substring(0,h+w)+r.substring(h+this.diff_xIndex(c,m+d[1].length))),d[0]!==_&&(m+=d[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,t]},g.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,a="",s=1;s<=r;s++)a+=String.fromCharCode(s);for(var s=0;s<e.length;s++)e[s].start1+=r,e[s].start2+=r;var t=e[0],n=t.diffs;if(n.length==0||n[0][0]!=p)n.unshift(new g.Diff(p,a)),t.start1-=r,t.start2-=r,t.length1+=r,t.length2+=r;else if(r>n[0][1].length){var i=r-n[0][1].length;n[0][1]=a.substring(n[0][1].length)+n[0][1],t.start1-=i,t.start2-=i,t.length1+=i,t.length2+=i}if(t=e[e.length-1],n=t.diffs,n.length==0||n[n.length-1][0]!=p)n.push(new g.Diff(p,a)),t.length1+=r,t.length2+=r;else if(r>n[n.length-1][1].length){var i=r-n[n.length-1][1].length;n[n.length-1][1]+=a.substring(0,i),t.length1+=i,t.length2+=i}return a},g.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,a=0;a<e.length;a++)if(!(e[a].length1<=r)){var s=e[a];e.splice(a--,1);for(var t=s.start1,n=s.start2,i="";s.diffs.length!==0;){var l=new g.patch_obj,h=!0;for(l.start1=t-i.length,l.start2=n-i.length,i!==""&&(l.length1=l.length2=i.length,l.diffs.push(new g.Diff(p,i)));s.diffs.length!==0&&l.length1<r-this.Patch_Margin;){var o=s.diffs[0][0],v=s.diffs[0][1];o===k?(l.length2+=v.length,n+=v.length,l.diffs.push(s.diffs.shift()),h=!1):o===_&&l.diffs.length==1&&l.diffs[0][0]==p&&v.length>2*r?(l.length1+=v.length,t+=v.length,h=!1,l.diffs.push(new g.Diff(o,v)),s.diffs.shift()):(v=v.substring(0,r-l.length1-this.Patch_Margin),l.length1+=v.length,t+=v.length,o===p?(l.length2+=v.length,n+=v.length):h=!1,l.diffs.push(new g.Diff(o,v)),v==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(v.length))}i=this.diff_text2(l.diffs),i=i.substring(i.length-this.Patch_Margin);var c=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);c!==""&&(l.length1+=c.length,l.length2+=c.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===p?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push(new g.Diff(p,c))),h||e.splice(++a,0,l)}}},g.prototype.patch_toText=function(e){for(var r=[],a=0;a<e.length;a++)r[a]=e[a];return r.join("")},g.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var a=e.split(`
`),s=0,t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<a.length;){var n=a[s].match(t);if(!n)throw new Error("Invalid patch string: "+a[s]);var i=new g.patch_obj;for(r.push(i),i.start1=parseInt(n[1],10),n[2]===""?(i.start1--,i.length1=1):n[2]=="0"?i.length1=0:(i.start1--,i.length1=parseInt(n[2],10)),i.start2=parseInt(n[3],10),n[4]===""?(i.start2--,i.length2=1):n[4]=="0"?i.length2=0:(i.start2--,i.length2=parseInt(n[4],10)),s++;s<a.length;){var l=a[s].charAt(0);try{var h=decodeURI(a[s].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+h)}if(l=="-")i.diffs.push(new g.Diff(_,h));else if(l=="+")i.diffs.push(new g.Diff(k,h));else if(l==" ")i.diffs.push(new g.Diff(p,h));else{if(l=="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+h)}s++}}return r},g.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},g.patch_obj.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2==1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var a=["@@ -"+e+" +"+r+` @@
`],s,t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case k:s="+";break;case _:s="-";break;case p:s=" ";break}a[t+1]=s+encodeURI(this.diffs[t][1])+`
`}return a.join("").replace(/%20/g," ")},C.exports=g,C.exports.diff_match_patch=g,C.exports.DIFF_DELETE=_,C.exports.DIFF_INSERT=k,C.exports.DIFF_EQUAL=p})(ve)),ve.exports}var le=je();function gr(C,g){const _=new le.diff_match_patch,k=_.diff_main(C,g);_.diff_cleanupSemantic(k);const p=[],e=[];let r=1,a=1;for(const[s,t]of k){const n=t.split(`
`);for(let i=0;i<n.length;i++){const l=n[i];if(!(i===n.length-1&&l===""&&n.length>1))switch(s){case le.DIFF_DELETE:p.push({type:"removed",content:l,lineNumber:r++});break;case le.DIFF_INSERT:e.push({type:"added",content:l,lineNumber:a++});break;case le.DIFF_EQUAL:p.push({type:"unchanged",content:l,lineNumber:r++}),e.push({type:"unchanged",content:l,lineNumber:a++});break}}}return{original:p,transformed:e}}var Qe=z("<option> </option>"),Ve=z("<optgroup></optgroup>"),We=z('<div class="text-center py-8 text-gray-500 dark:text-gray-400">No transformations yet. Click "Add Transformation" to get started.</div>'),Xe=z("<option> </option>"),Ze=z("<optgroup></optgroup>"),Ge=z('<div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"> </label> <input type="text" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"/></div>'),Je=z('<div class="space-y-2"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Pattern</label> <input type="text" placeholder="e.g., \\n\\n+" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 font-mono text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Replacement</label> <input type="text" placeholder="e.g., \\n" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 font-mono text-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Flags</label> <input type="text" placeholder="g, gi, gm, etc." class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"/></div></div>'),Ke=z('<div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"> </label> <input type="number" min="1" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"/></div>'),Ye=z('<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"><div class="flex items-center gap-2 mb-3"><span class="text-sm font-medium text-gray-500 dark:text-gray-400 shrink-0"> </span> <input type="checkbox" class="rounded border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-blue-500 shrink-0"/> <select class="flex-1 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"></select> <div class="flex items-center gap-1 shrink-0"><button class="p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30" title="Move up"><!></button> <button class="p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 disabled:opacity-30" title="Move down"><!></button> <button class="p-1 text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-400" title="Delete"><!></button></div></div> <!></div>'),qe=z('<div class="space-y-3"></div>'),xe=z('<div class="space-y-4"><div><label for="add-transformation" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Add Transformation</label> <select id="add-transformation" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"><option>Select transformation type...</option><!></select></div> <!></div>');function or(C,g){Ee(g,!0);let _=Oe(g,"transformations",15);const k={Add:[{value:"add_prefix",label:"Add Prefix"},{value:"add_suffix",label:"Add Suffix"},{value:"wrap_code_block",label:"Wrap in Code Block"},{value:"number_lines",label:"Number Lines"},{value:"indent",label:"Indent"}],Remove:[{value:"remove_blank_lines",label:"Remove Blank Lines"},{value:"trim_lines",label:"Trim Lines"},{value:"dedent",label:"Dedent"},{value:"remove_duplicates",label:"Remove Duplicates"}],Replace:[{value:"regex_replace",label:"Regex Replace"}],Transform:[{value:"to_uppercase",label:"To Uppercase"},{value:"to_lowercase",label:"To Lowercase"}],Reorder:[{value:"sort_lines",label:"Sort Lines"},{value:"reverse_lines",label:"Reverse Lines"}]};Object.values(k).flat();let p=Le("");function e(u){const d={id:`trans-${Date.now()}`,type:u,enabled:!0,order:_().length+1};_([..._(),d]),g.ontransformationschange(_()),ce(p,"")}function r(u){const y=u.target.value;y&&e(y)}function a(u){_(_().filter(d=>d.id!==u)),_(_().map((d,y)=>({...d,order:y+1}))),g.ontransformationschange(_())}function s(u){if(u===0)return;const d=[..._()];[d[u-1],d[u]]=[d[u],d[u-1]],_(d.map((y,f)=>({...y,order:f+1}))),g.ontransformationschange(_())}function t(u){if(u===_().length-1)return;const d=[..._()];[d[u],d[u+1]]=[d[u+1],d[u]],_(d.map((y,f)=>({...y,order:f+1}))),g.ontransformationschange(_())}function n(u,d){_(_().map(y=>y.id===u?{...y,...d}:y)),g.ontransformationschange(_())}var i=xe(),l=R(i),h=L(R(l),2);h.__change=r;var o=R(h);o.value=o.__value="";var v=L(o);ae(v,17,()=>Object.entries(k),ie,(u,d)=>{var y=_e(()=>de(b(d),2));let f=()=>b(y)[0],M=()=>b(y)[1];var D=Ve();ae(D,21,M,ie,(A,E)=>{var I=Qe(),T=R(I,!0);S(I);var P={};G(()=>{re(T,b(E).label),P!==(P=b(E).value)&&(I.value=(I.__value=b(E).value)??"")}),N(A,I)}),S(D),G(()=>fe(D,"label",f())),N(u,D)}),S(h),S(l);var c=L(l,2);{var m=u=>{var d=We();N(u,d)},w=u=>{var d=qe();ae(d,23,_,y=>y.id,(y,f,M)=>{var D=Ye(),A=R(D),E=R(A),I=R(E);S(E);var T=L(E,2);K(T),T.__change=O=>n(b(f).id,{enabled:O.target.checked});var P=L(T,2);P.__change=O=>n(b(f).id,{type:O.target.value}),ae(P,21,()=>Object.entries(k),ie,(O,V)=>{var W=_e(()=>de(b(V),2));let x=()=>b(W)[0],X=()=>b(W)[1];var F=Ze();ae(F,21,X,ie,(Z,$)=>{var U=Xe(),j=R(U,!0);S(U);var H={};G(()=>{re(j,b($).label),H!==(H=b($).value)&&(U.value=(U.__value=b($).value)??"")}),N(Z,U)}),S(F),G(()=>fe(F,"label",x())),N(O,F)}),S(P);var B;Ce(P);var ue=L(P,2),Y=R(ue);Y.__click=()=>s(b(M));var ke=R(Y);Ue(ke,{size:18}),S(Y);var q=L(Y,2);q.__click=()=>t(b(M));var Me=R(q);ze(Me,{size:18}),S(q);var oe=L(q,2);oe.__click=()=>a(b(f).id);var De=R(oe);$e(De,{size:18}),S(oe),S(ue),S(A);var Ae=L(A,2);{var Te=O=>{var V=Ge(),W=R(V),x=R(W,!0);S(W);var X=L(W,2);K(X),X.__input=F=>n(b(f).id,{value:F.target.value}),S(V),G(()=>{re(x,b(f).type==="wrap_code_block"?"Language (optional)":b(f).type==="add_prefix"?"Prefix Text":"Suffix Text"),ne(X,"value"in b(f)&&b(f).value||""),fe(X,"placeholder",b(f).type==="wrap_code_block"?"e.g., javascript":"")}),N(O,V)},Ie=O=>{var V=he(),W=ge(V);{var x=F=>{var Z=Je(),$=R(Z),U=L(R($),2);K(U),U.__input=Q=>{const te=Q.target.value,Pe="flags"in b(f)&&b(f).flags||"g";He(te,Pe),n(b(f).id,{pattern:te})},S($);var j=L($,2),H=L(R(j),2);K(H),H.__input=Q=>n(b(f).id,{replacement:Q.target.value}),S(j);var J=L(j,2),ee=L(R(J),2);K(ee),ee.__input=Q=>n(b(f).id,{flags:Q.target.value}),S(J),S(Z),G(()=>{ne(U,"pattern"in b(f)&&b(f).pattern||""),ne(H,"replacement"in b(f)&&b(f).replacement||""),ne(ee,"flags"in b(f)&&b(f).flags||"g")}),N(F,Z)},X=F=>{var Z=he(),$=ge(Z);{var U=j=>{var H=Ke(),J=R(H),ee=R(J,!0);S(J);var Q=L(J,2);K(Q),Q.__input=te=>n(b(f).id,{value:parseInt(te.target.value)||1}),S(H),G(()=>{re(ee,b(f).type==="number_lines"?"Start From":b(f).type==="indent"?"Spaces to Add":"Spaces to Remove"),ne(Q,"value"in b(f)&&b(f).value||1)}),N(j,H)};se($,j=>{(b(f).type==="number_lines"||b(f).type==="indent"||b(f).type==="dedent")&&j(U)},!0)}N(F,Z)};se(W,F=>{b(f).type==="regex_replace"?F(x):F(X,!1)},!0)}N(O,V)};se(Ae,O=>{b(f).type==="wrap_code_block"||b(f).type==="add_prefix"||b(f).type==="add_suffix"?O(Te):O(Ie,!1)})}S(D),G(()=>{re(I,`#${b(M)+1}`),Fe(T,b(f).enabled),B!==(B=b(f).type)&&(P.value=(P.__value=b(f).type)??"",Be(P,b(f).type)),Y.disabled=b(M)===0,q.disabled=b(M)===_().length-1}),N(y,D)}),S(d),N(u,d)};se(c,u=>{_().length===0?u(m):u(w,!1)})}S(i),Ne(h,()=>b(p),u=>ce(p,u)),N(C,i),Re()}Se(["change","click","input"]);export{lr as A,hr as S,or as T,gr as g};
