import{d as Ar,f as u,a as c,s as J}from"../chunks/DArtHkHk.js";import{p as Cr,s as i,a as Er,u as Gr,g as r,b as o,c as a,d,e as Ir,r as e,n as k,f as K,h as Or,t as Q}from"../chunks/BjbBlfYJ.js";import{i as nr}from"../chunks/DL2-Z6ex.js";import{t as R,r as _,e as mr,s as vr,i as br}from"../chunks/LlG9SSuv.js";import{b as x,t as Pr,a as jr}from"../chunks/zHiRsLaD.js";import{g as cr}from"../chunks/C2HQg65W.js";import{a as qr}from"../chunks/DRZLMWTu.js";import{A as zr,S as Br,T as Nr,g as Fr}from"../chunks/DAaTc6sE.js";var Lr=u("<div> </div>"),Mr=u("<div> </div>"),$r=u('<div class="grid grid-cols-2 gap-4"><div><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Original</h3> <div class="bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded p-3 font-mono text-xs overflow-auto max-h-96 text-gray-900 dark:text-gray-100"></div></div> <div><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Transformed</h3> <div class="bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded p-3 font-mono text-xs overflow-auto max-h-96 text-gray-900 dark:text-gray-100"></div></div></div>'),Hr=u('<div class="bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded p-4 font-mono text-sm whitespace-pre-wrap overflow-auto max-h-96 text-gray-900 dark:text-gray-100"> </div>'),Jr=u('<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Preview Output</h2> <label class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"><input type="checkbox" class="rounded"/> Show Diff</label></div> <!></div>'),Kr=u('<div class="max-w-7xl mx-auto"><div class="flex items-center justify-between mb-6"><div class="flex items-center gap-4"><button class="text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100" aria-label="Go back"><!></button> <div><h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100">Create New Template</h1> <p class="text-gray-600 dark:text-gray-400 mt-1">Define transformations and test with live preview</p></div></div> <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium"><!> Save Template</button></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"><h2 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100">Template Information</h2> <div class="space-y-4"><div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Name <span class="text-red-500">*</span></label> <input id="name" type="text" placeholder="e.g., Format Grafana Errors" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100" required/></div> <div><label for="description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Description</label> <textarea id="description" placeholder="Brief description of what this template does..." rows="2" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></textarea></div> <div><label for="category" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label> <input id="category" type="text" placeholder="e.g., Logging, Markdown" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"/></div> <div><label for="tags" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tags (comma-separated)</label> <input id="tags" type="text" placeholder="e.g., grafana, errors, logs" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"/></div> <div><label for="exampleText" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Preview Example Text</label> <textarea id="exampleText" placeholder="e.g., lorem ipsum  dolor sit amet" rows="3" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-mono text-sm"></textarea> <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">This text will be shown in the hover preview on the main page</p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"><h2 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100">Transformations</h2> <!></div></div> <div class="space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"><h2 class="text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100">Test with Sample Text</h2> <textarea placeholder="Paste sample text here to see live preview..." rows="10" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-mono text-sm"></textarea></div> <!></div></div></div>');function re(xr,ur){Cr(ur,!0);let h=i(""),w=i(""),T=i("General"),S=i(""),D=i(""),g=i(Er([])),b=i(""),n=i(""),A=i(!1),p=null;Gr(()=>(r(b).trim()&&r(g).length>0?(p&&clearTimeout(p),p=setTimeout(()=>{try{o(n,qr(r(b),r(g)),!0)}catch(t){o(n,`Error: ${t.message}`)}},300)):o(n,""),()=>{p&&clearTimeout(p)}));function pr(){if(!r(h).trim()){R.error("Template name is required");return}if(r(g).length===0){R.error("Add at least one transformation");return}const t=r(S).split(",").map(m=>m.trim()).filter(m=>m.length>0);Pr.create({name:r(h).trim(),description:r(w).trim(),category:r(T).trim(),tags:t,exampleText:r(D).trim()||void 0,transformations:r(g),starred:!1}),R.success("Template created successfully!"),cr("/templates")}function yr(){cr("/templates")}const C=Or(()=>r(b)&&r(n)?Fr(r(b),r(n)):null);var E=Kr(),G=a(E),I=a(G),O=a(I);O.__click=yr;var fr=a(O);zr(fr,{size:24}),e(O),k(2),e(I);var P=d(I,2);P.__click=pr;var hr=a(P);Br(hr,{size:18}),k(),e(P),e(G);var U=d(G,2),j=a(U),q=a(j),V=d(a(q),2),z=a(V),W=d(a(z),2);_(W),e(z);var B=d(z,2),X=d(a(B),2);K(X),e(B);var N=d(B,2),Y=d(a(N),2);_(Y),e(N);var F=d(N,2),Z=d(a(F),2);_(Z),e(F);var rr=d(F,2),er=d(a(rr),2);K(er),k(2),e(rr),e(V),e(q);var ar=d(q,2),kr=d(a(ar),2);Nr(kr,{ontransformationschange:t=>o(g,t,!0),get transformations(){return r(g)},set transformations(t){o(g,t,!0)}}),e(ar),e(j);var tr=d(j,2),L=a(tr),dr=d(a(L),2);K(dr),e(L);var _r=d(L,2);{var wr=t=>{var m=Jr(),M=a(m),or=d(a(M),2),sr=a(or);_(sr),k(),e(or),e(M);var Tr=d(M,2);{var Sr=l=>{var v=$r(),y=a(v),ir=d(a(y),2);mr(ir,21,()=>r(C).original,br,($,f)=>{var s=Lr(),H=a(s,!0);e(s),Q(()=>{vr(s,1,`whitespace-pre-wrap ${r(f).type==="removed"?"bg-red-100 dark:bg-red-900/30 text-red-900 dark:text-red-300":""}`),J(H,r(f).content||" ")}),c($,s)}),e(ir),e(y);var lr=d(y,2),gr=d(a(lr),2);mr(gr,21,()=>r(C).transformed,br,($,f)=>{var s=Mr(),H=a(s,!0);e(s),Q(()=>{vr(s,1,`whitespace-pre-wrap ${r(f).type==="added"?"bg-green-100 dark:bg-green-900/30 text-green-900 dark:text-green-300":""}`),J(H,r(f).content||" ")}),c($,s)}),e(gr),e(lr),e(v),c(l,v)},Dr=l=>{var v=Hr(),y=a(v,!0);e(v),Q(()=>J(y,r(n))),c(l,v)};nr(Tr,l=>{r(A)&&r(C)?l(Sr):l(Dr,!1)})}e(m),jr(sr,()=>r(A),l=>o(A,l)),c(t,m)};nr(_r,t=>{r(n)&&t(wr)})}e(tr),e(U),e(E),x(W,()=>r(h),t=>o(h,t)),x(X,()=>r(w),t=>o(w,t)),x(Y,()=>r(T),t=>o(T,t)),x(Z,()=>r(S),t=>o(S,t)),x(er,()=>r(D),t=>o(D,t)),x(dr,()=>r(b),t=>o(b,t)),c(xr,E),Ir()}Ar(["click"]);export{re as component};
