import{o as it,c as q,a as k,f as L,d as He,s as V,p as ce}from"../chunks/DArtHkHk.js";import{a4 as dt,E as lt,bb as ct,aF as ut,w as Ye,m as Ze,bc as vt,aA as Je,ag as pt,y as gt,$ as Te,i as W,p as ze,s as P,a as ft,u as ke,b as c,g as t,e as Me,c as l,r as d,t as X,h as oe,d as b,H as mt,bd as et,n as fe}from"../chunks/BjbBlfYJ.js";import{l as ne,s as ie,p as yt,i as Y,b as Le,a as xt}from"../chunks/DL2-Z6ex.js";import{I as de,a as le,s as tt,j as bt,t as S,r as ht,e as Ie,i as Ue,c as _t}from"../chunks/LlG9SSuv.js";import{t as Ne,r as We,b as kt,c as wt,s as $t}from"../chunks/zHiRsLaD.js";import{s as Ct,r as De,c as we,X as rt,C as Ve}from"../chunks/CEA3JsIK.js";import{a as Pe,b as Tt,C as zt}from"../chunks/DRZLMWTu.js";import{c as Mt,b as Fe}from"../chunks/CoaWwRG8.js";import"../chunks/E4fo9bj-.js";import{S as Et,a as Nt,C as Ae}from"../chunks/CHodn33G.js";const Pt=()=>performance.now(),se={tick:o=>requestAnimationFrame(o),now:()=>Pt(),tasks:new Set};function at(){const o=se.now();se.tasks.forEach(e=>{e.c(o)||(se.tasks.delete(e),e.f())}),se.tasks.size!==0&&se.tick(at)}function Ft(o){let e;return se.tasks.size===0&&se.tick(at),{promise:new Promise(s=>{se.tasks.add(e={c:o,f:s})}),abort(){se.tasks.delete(e)}}}function Ee(o,e){Je(()=>{o.dispatchEvent(new CustomEvent(e))})}function Ht(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const e=o.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function Be(o){const e={},s=o.split(";");for(const r of s){const[n,v]=r.split(":");if(!n||v===void 0)break;const i=Ht(n.trim());e[i]=v.trim()}return e}const St=o=>o;function Ge(o,e,s,r){var n=(o&vt)!==0,v="both",i,p=e.inert,h=e.style.overflow,m,$;function z(){return Je(()=>i??=s()(e,r?.()??{},{direction:v}))}var F={is_global:n,in(){e.inert=p,Ee(e,"introstart"),m=Oe(e,z(),$,1,()=>{Ee(e,"introend"),m?.abort(),m=i=void 0,e.style.overflow=h})},out(w){e.inert=!0,Ee(e,"outrostart"),$=Oe(e,z(),m,0,()=>{Ee(e,"outroend"),w?.()})},stop:()=>{m?.abort(),$?.abort()}},f=dt;if((f.nodes.t??=[]).push(F),it){var y=n;if(!y){for(var _=f.parent;_&&(_.f&lt)!==0;)for(;(_=_.parent)&&(_.f&ct)===0;);y=!_||(_.f&ut)!==0}y&&Ye(()=>{Ze(()=>F.in())})}}function Oe(o,e,s,r,n){var v=r===1;if(pt(e)){var i,p=!1;return gt(()=>{if(!p){var w=e({direction:v?"in":"out"});i=Oe(o,w,s,r,n)}}),{abort:()=>{p=!0,i?.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(s?.deactivate(),!e?.duration)return n(),{abort:Te,deactivate:Te,reset:Te,t:()=>r};const{delay:h=0,css:m,tick:$,easing:z=St}=e;var F=[];if(v&&s===void 0&&($&&$(0,1),m)){var f=Be(m(0,1));F.push(f,f)}var y=()=>1-r,_=o.animate(F,{duration:h,fill:"forwards"});return _.onfinish=()=>{_.cancel();var w=s?.t()??1-r;s?.abort();var a=r-w,u=e.duration*Math.abs(a),g=[];if(u>0){var C=!1;if(m)for(var E=Math.ceil(u/16.666666666666668),M=0;M<=E;M+=1){var U=w+a*z(M/E),D=Be(m(U,1-U));g.push(D),C||=D.overflow==="hidden"}C&&(o.style.overflow="hidden"),y=()=>{var T=_.currentTime;return w+a*z(T/u)},$&&Ft(()=>{if(_.playState!=="running")return!1;var T=y();return $(T,1-T),!0})}_=o.animate(g,{duration:u,fill:"forwards"}),_.onfinish=()=>{y=()=>r,$?.(r,1-r),n()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Te)},deactivate:()=>{n=Te},reset:()=>{r===0&&$?.(1,0)},t:()=>y()}}class Ke{#e=new WeakMap;#t;#r;static entries=new WeakMap;constructor(e){this.#r=e}observe(e,s){var r=this.#e.get(e)||new Set;return r.add(s),this.#e.set(e,r),this.#a().observe(e,this.#r),()=>{var n=this.#e.get(e);n.delete(s),n.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#a(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var s of e){Ke.entries.set(s.target,s);for(var r of this.#e.get(s.target)||[])r(s)}}))}}var Lt=new Ke({box:"border-box"});function qe(o,e,s){var r=Lt.observe(o,()=>s(o[e]));Ye(()=>(Ze(()=>s(o[e])),r))}function At(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 18 6-6-6-6"}],["path",{d:"m8 6-6 6 6 6"}]];de(o,ie({name:"code"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function It(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"}]];de(o,ie({name:"command"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Qe(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];de(o,ie({name:"file-text"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Ot(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];de(o,ie({name:"folder"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Rt(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["line",{x1:"4",x2:"20",y1:"9",y2:"9"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21"}]];de(o,ie({name:"hash"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Wt(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 5h.01"}],["path",{d:"M3 12h.01"}],["path",{d:"M3 19h.01"}],["path",{d:"M8 5h13"}],["path",{d:"M8 12h13"}],["path",{d:"M8 19h13"}]];de(o,ie({name:"list"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Dt(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}]];de(o,ie({name:"rotate-ccw"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function Kt(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"6",cy:"6",r:"3"}],["path",{d:"M8.12 8.12 12 12"}],["path",{d:"M20 4 8.12 15.88"}],["circle",{cx:"6",cy:"18",r:"3"}],["path",{d:"M14.8 14.8 20 20"}]];de(o,ie({name:"scissors"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}function jt(o,e){const s=ne(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 4v16"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2"}],["path",{d:"M9 20h6"}]];de(o,ie({name:"type"},()=>s,{get iconNode(){return r},children:(n,v)=>{var i=q(),p=W(i);le(p,e,"default",{}),k(n,i)},$$slots:{default:!0}}))}var Ut=L("<div><!></div>");function Re(o,e){ze(e,!0);let s=yt(e,"inside",3,!1),r=P(ft({x:0,y:0,placement:"right"})),n=P(!1),v=P(0),i=P(0);const p=320,h=8;function m(){if(!e.trigger){c(n,!1);return}const f=e.trigger.getBoundingClientRect(),y=window.innerWidth,_=window.innerHeight;let w=0,a=f.top,u="right";if(s()){const E=t(v)||100,M=t(i)||24;w=f.left+(f.width-E)/2,a=f.top+(f.height-M)/2,u="inside",c(r,{x:w,y:a,placement:u},!0),c(n,!0);return}const g=t(v)||p,C=t(i)||200;w=f.left+f.width/2-g/2,a=f.bottom+h,u="below",w<h&&(w=h),w+g>y-h&&(w=y-g-h),a+C>_-h&&(a=f.top-C-h,u="above-center"),a<h&&u==="above-center"&&(a=h),c(r,{x:w,y:a,placement:u},!0),c(n,!0)}ke(()=>{e.show&&e.trigger?m():c(n,!1)}),ke(()=>{e.show&&e.trigger&&(t(v)>0||t(i)>0)&&m()}),ke(()=>{if(!e.show)return;let f=null;const y=()=>{f&&clearTimeout(f),f=setTimeout(()=>{m()},50)};return window.addEventListener("scroll",y,!0),window.addEventListener("resize",y),()=>{f&&clearTimeout(f),window.removeEventListener("scroll",y,!0),window.removeEventListener("resize",y)}});var $=q(),z=W($);{var F=f=>{var y=Ut(),_=l(y);Ct(_,()=>e.children),d(y),X(()=>{tt(y,1,`fixed z-999 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-300 dark:border-gray-600 rounded-lg shadow-2xl pointer-events-none ${t(r).placement==="above-center"||t(r).placement==="below"?"p-3 w-80":t(r).placement==="inside"?"p-2 w-auto":"p-3 w-80"}`),bt(y,`left: ${t(r).x??""}px; top: ${t(r).y??""}px;`)}),qe(y,"offsetWidth",w=>c(v,w)),qe(y,"offsetHeight",w=>c(i,w)),k(f,y)};Y(z,f=>{t(n)&&e.children&&f(F)})}k(o,$),Me()}var Vt=L('<div class="text-xs"><div class="font-medium text-gray-700 dark:text-gray-300 mb-2">Preview</div> <div class="grid grid-cols-2 gap-2"><div class="bg-gray-50 dark:bg-gray-900 p-2 rounded font-mono whitespace-pre-wrap max-h-32 overflow-auto text-gray-900 dark:text-gray-100"> </div> <div class="bg-green-50 dark:bg-green-900/20 p-2 rounded font-mono whitespace-pre-wrap max-h-32 overflow-auto text-gray-900 dark:text-gray-100"> </div></div></div>'),Bt=L('<button type="button" class="group relative flex flex-col items-center justify-center gap-2 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all duration-200 cursor-pointer disabled:opacity-50 disabled:cursor-wait min-w-30 min-h-25"><div class="text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"><!></div> <span class="text-sm font-medium text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-gray-100 text-center line-clamp-2"> </span></button> <!>',1);function Gt(o,e){ze(e,!0);let s=P(!1),r=P(!1),n=P(null);function v(a){const u=a.transformations.find(g=>g.enabled);if(!u)return Qe;switch(u.type){case"wrap_code_block":return At;case"add_prefix":case"add_suffix":return Wt;case"trim_lines":case"remove_blank_lines":case"dedent":return Kt;case"to_uppercase":case"to_lowercase":return jt;case"number_lines":return Rt;default:return Qe}}function i(a){const u=a.exampleText||`lorem ipsum

dolor sit amet`;try{const g=Pe(u,a.transformations);return{input:u,output:g}}catch{return{input:u,output:"(preview error)"}}}async function p(){if(!t(s)){c(s,!0);try{const a=await De();if(!a.trim()){S.warning("Clipboard is empty"),c(s,!1);return}const u=Pe(a,e.template.transformations),g=await we(u);Ne.incrementUsageCount(e.template.id),We.add(e.template.id),e.onTransform({input:a,output:u,template:e.template}),g?S.success("Transformed and copied!"):S.info("Transformed! Click Copy to copy result.")}catch(a){a instanceof Error?S.error(a.message):S.error("Failed to transform")}finally{c(s,!1)}}}const h=oe(()=>v(e.template)),m=oe(()=>i(e.template));var $=Bt(),z=W($);z.__click=p;var F=l(z),f=l(F);Mt(f,()=>t(h),(a,u)=>{u(a,{size:24})}),d(F);var y=b(F,2),_=l(y,!0);d(y),d(z),Fe(z,a=>c(n,a),()=>t(n));var w=b(z,2);{let a=oe(()=>t(r)&&!t(s));Re(w,{get trigger(){return t(n)},get show(){return t(a)},children:(u,g)=>{var C=Vt(),E=b(l(C),2),M=l(E),U=l(M,!0);d(M);var D=b(M,2),T=l(D,!0);d(D),d(E),d(C),X(()=>{V(U,t(m).input),V(T,t(m).output)}),k(u,C)},$$slots:{default:!0}})}X(()=>{z.disabled=t(s),V(_,e.template.name)}),ce("mouseenter",z,()=>c(r,!0)),ce("mouseleave",z,()=>c(r,!1)),k(o,$),Me()}He(["click"]);var qt=L('<div class="px-4 py-8 text-center text-gray-500 dark:text-gray-400">No templates found</div>'),Qt=L('<span class="text-xs text-gray-400 dark:text-gray-500"> </span>'),Xt=L('<button type="button"><span class="flex-1 text-sm font-medium text-gray-700 dark:text-gray-300"> </span> <!></button>'),Yt=L('<div class="px-4 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-900 sticky top-0 flex items-center gap-2"><!> </div> <!>',1),Zt=L('<div class="fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-[15vh]" role="dialog" aria-modal="true" aria-label="Command palette"><div class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-lg mx-4 overflow-hidden"><div class="flex items-center gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700"><!> <input type="text" placeholder="Search templates..." class="flex-1 text-base outline-none bg-transparent placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-100"/> <button type="button" class="p-1 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 rounded"><!></button></div> <div class="max-h-100 overflow-y-auto"><!></div> <div class="px-4 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-4"><span><kbd class="px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300">↑↓</kbd> navigate</span> <span><kbd class="px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300">Enter</kbd> apply</span> <span><kbd class="px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-300">Esc</kbd> close</span></div></div></div>');function Jt(o,e){ze(e,!0);let s=P(""),r=P(0),n=P(null),v=P(!1);function i(a,u){let g=a;if(u.trim()){const T=u.toLowerCase();g=a.filter(I=>I.name.toLowerCase().includes(T)||I.description.toLowerCase().includes(T)||I.tags?.some(Z=>Z.toLowerCase().includes(T)))}const C=g.filter(T=>T.starred).sort((T,I)=>I.usageCount-T.usageCount),E=g.filter(T=>!T.starred),M=new Map;for(const T of E){const I=T.category||"Other";M.has(I)||M.set(I,[]),M.get(I).push(T)}const U=Array.from(M.keys()).sort(),D=[];C.length>0&&D.push({name:"Starred",templates:C,isStarred:!0});for(const T of U){const I=M.get(T);I.sort((Z,Q)=>Q.usageCount-Z.usageCount),D.push({name:T,templates:I})}return D}function p(a){return a.flatMap(u=>u.templates)}const h=oe(()=>i(e.templates,t(s))),m=oe(()=>p(t(h)));ke(()=>{t(s),c(r,0)}),ke(()=>{e.open&&(mt().then(()=>{t(n)?.focus()}),c(s,""),c(r,0))});function $(a){if(e.open)switch(a.key){case"ArrowDown":a.preventDefault(),c(r,Math.min(t(r)+1,t(m).length-1),!0);break;case"ArrowUp":a.preventDefault(),c(r,Math.max(t(r)-1,0),!0);break;case"Enter":a.preventDefault(),t(m)[t(r)]&&z(t(m)[t(r)]);break;case"Escape":a.preventDefault(),e.onClose();break}}async function z(a){if(!t(v)){c(v,!0);try{const u=await De();if(!u.trim()){S.warning("Clipboard is empty"),c(v,!1);return}const g=Pe(u,a.transformations),C=await we(g);Ne.incrementUsageCount(a.id),We.add(a.id),e.onClose(),e.onTransform({input:u,output:g,template:a}),C?S.success(`Transformed with "${a.name}" and copied!`):S.info("Transformed! Click Copy to copy result.")}catch(u){u instanceof Error?S.error(u.message):S.error("Failed to transform")}finally{c(v,!1)}}}function F(a){a.target===a.currentTarget&&e.onClose()}function f(a,u,g){let C=0;for(let E=0;E<u;E++)C+=a[E].templates.length;return C+g}var y=q();ce("keydown",et,$);var _=W(y);{var w=a=>{var u=Zt();u.__click=F;var g=l(u),C=l(g),E=l(C);Et(E,{size:20,class:"text-gray-400 dark:text-gray-500 shrink-0"});var M=b(E,2);ht(M),Fe(M,O=>c(n,O),()=>t(n));var U=b(M,2);U.__click=function(...O){e.onClose?.apply(this,O)};var D=l(U);rt(D,{size:18}),d(U),d(C);var T=b(C,2),I=l(T);{var Z=O=>{var te=qt();k(O,te)},Q=O=>{var te=q(),me=W(te);Ie(me,17,()=>t(h),Ue,(re,ue,x)=>{var A=Yt(),R=W(A),K=l(R);{var J=H=>{Nt(H,{size:12,class:"fill-yellow-400 text-yellow-400"})},ye=H=>{Ot(H,{size:12})};Y(K,H=>{t(ue).isStarred?H(J):H(ye,!1)})}var N=b(K);d(R);var B=b(R,2);Ie(B,17,()=>t(ue).templates,Ue,(H,ee,ve)=>{const xe=oe(()=>f(t(h),x,ve));var G=Xt();G.__click=()=>z(t(ee));var j=l(G),be=l(j,!0);d(j);var he=b(j,2);{var $e=_e=>{var Ce=Qt(),ae=l(Ce);d(Ce),X(()=>V(ae,`${t(ee).usageCount??""} uses`)),k(_e,Ce)};Y(he,_e=>{t(ee).usageCount>0&&_e($e)})}d(G),X(()=>{tt(G,1,`w-full px-4 py-2.5 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${t(xe)===t(r)?"bg-blue-50 dark:bg-blue-900/30":""}`),V(be,t(ee).name)}),k(H,G)}),X(()=>V(N,` ${t(ue).name??""}`)),k(re,A)}),k(O,te)};Y(I,O=>{t(m).length===0?O(Z):O(Q,!1)})}d(T),fe(2),d(g),d(u),kt(M,()=>t(s),O=>c(s,O)),k(a,u)};Y(_,a=>{e.open&&a(w)})}k(o,y),Me()}He(["click"]);function er(o){const e=o-1;return e*e*e+1}function Xe(o,{delay:e=0,duration:s=400,easing:r=er,axis:n="y"}={}){const v=getComputedStyle(o),i=+v.opacity,p=n==="y"?"height":"width",h=parseFloat(v[p]),m=n==="y"?["top","bottom"]:["left","right"],$=m.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),z=parseFloat(v[`padding${$[0]}`]),F=parseFloat(v[`padding${$[1]}`]),f=parseFloat(v[`margin${$[0]}`]),y=parseFloat(v[`margin${$[1]}`]),_=parseFloat(v[`border${$[0]}Width`]),w=parseFloat(v[`border${$[1]}Width`]);return{delay:e,duration:s,easing:r,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*i};${p}: ${a*h}px;padding-${m[0]}: ${a*z}px;padding-${m[1]}: ${a*F}px;margin-${m[0]}: ${a*f}px;margin-${m[1]}: ${a*y}px;border-${m[0]}-width: ${a*_}px;border-${m[1]}-width: ${a*w}px;min-${p}: 0`}}var tr=L('<!> <span class="text-green-600 dark:text-green-500">Copied</span>',1),rr=L("<!> <span>Copy</span>",1),ar=L('<div class="flex items-center text-xs text-gray-700 dark:text-gray-200"><!> <span class="font-medium">Copy</span></div>'),sr=L('<div class="flex items-center text-xs text-gray-700 dark:text-gray-200"><!> <span class="font-medium">Copy</span></div>'),or=L('<div class="p-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="flex items-center justify-between mb-2"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Input</span> <span class="text-xs text-gray-400 dark:text-gray-500"> </span></div> <div class="bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-3 font-mono text-sm whitespace-pre-wrap max-h-64 overflow-auto text-gray-700 dark:text-gray-300 cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 transition-colors" role="button" tabindex="0"> </div></div> <div><div class="flex items-center justify-between mb-2"><span class="text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Output</span> <span class="text-xs text-gray-400 dark:text-gray-500"> </span></div> <div class="bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800 p-3 font-mono text-sm whitespace-pre-wrap max-h-64 overflow-auto text-gray-700 dark:text-gray-300 cursor-pointer hover:border-green-400 dark:hover:border-green-500 transition-colors" role="button" tabindex="0"> </div></div></div> <!> <!></div>'),nr=L('<div class="bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"><div class="flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Transformed with <span class="font-extrabold"> </span></span></div> <div class="flex items-center gap-2"><button type="button" class="flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"><!></button> <button type="button" class="p-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"><!></button> <button type="button" class="p-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors" title="Hide result"><!></button></div></div> <!></div>');function ir(o,e){ze(e,!0);let s=P(!1),r=P(!1),n=P(!1),v=P(!1),i=P(null),p=P(null);const h=oe(()=>e.input.split(`
`).length),m=oe(()=>e.output.split(`
`).length);async function $(){await we(e.output)?(c(s,!0),S.success("Copied to clipboard!"),setTimeout(()=>{c(s,!1)},2e3)):S.error("Failed to copy")}async function z(){await we(e.input)?S.success("Input copied to clipboard!"):S.error("Failed to copy")}async function F(){await we(e.output)?S.success("Output copied to clipboard!"):S.error("Failed to copy")}function f(){c(r,!t(r))}function y(g){(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),z())}function _(g){(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),F())}var w=q(),a=W(w);{var u=g=>{var C=nr(),E=l(C),M=l(E),U=l(M);Ve(U,{size:18,class:"text-green-600 dark:text-green-500"});var D=b(U,2),T=b(l(D)),I=l(T,!0);d(T),d(D),d(M);var Z=b(M,2),Q=l(Z);Q.__click=$;var O=l(Q);{var te=N=>{var B=tr(),H=W(B);Ve(H,{size:16,class:"text-green-600 dark:text-green-500"}),fe(2),k(N,B)},me=N=>{var B=rr(),H=W(B);Ae(H,{size:16}),fe(2),k(N,B)};Y(O,N=>{t(s)?N(te):N(me,!1)})}d(Q);var re=b(Q,2);re.__click=f;var ue=l(re);{var x=N=>{Tt(N,{size:18})},A=N=>{zt(N,{size:18})};Y(ue,N=>{t(r)?N(x):N(A,!1)})}d(re);var R=b(re,2);R.__click=function(...N){e.onHide?.apply(this,N)};var K=l(R);rt(K,{size:18}),d(R),d(Z),d(E);var J=b(E,2);{var ye=N=>{var B=or(),H=l(B),ee=l(H),ve=l(ee),xe=b(l(ve),2),G=l(xe);d(xe),d(ve);var j=b(ve,2);j.__click=z,j.__keydown=y;var be=l(j,!0);d(j),Fe(j,pe=>c(i,pe),()=>t(i)),d(ee);var he=b(ee,2),$e=l(he),_e=b(l($e),2),Ce=l(_e);d(_e),d($e);var ae=b($e,2);ae.__click=F,ae.__keydown=_;var st=l(ae,!0);d(ae),Fe(ae,pe=>c(p,pe),()=>t(p)),d(he),d(H);var je=b(H,2);Re(je,{get trigger(){return t(i)},get show(){return t(n)},inside:!0,children:(pe,nt)=>{var ge=ar(),Se=l(ge);Ae(Se,{size:14,class:"text-blue-500"}),fe(2),d(ge),k(pe,ge)},$$slots:{default:!0}});var ot=b(je,2);Re(ot,{get trigger(){return t(p)},get show(){return t(v)},inside:!0,children:(pe,nt)=>{var ge=sr(),Se=l(ge);Ae(Se,{size:14,class:"text-green-500"}),fe(2),d(ge),k(pe,ge)},$$slots:{default:!0}}),d(B),X(()=>{V(G,`${t(h)??""} lines`),V(be,e.input),V(Ce,`${t(m)??""} lines`),V(st,e.output)}),ce("mouseenter",j,()=>c(n,!0)),ce("mouseleave",j,()=>c(n,!1)),ce("mouseenter",ae,()=>c(v,!0)),ce("mouseleave",ae,()=>c(v,!1)),Ge(3,B,()=>Xe,()=>({duration:200})),k(N,B)};Y(J,N=>{t(r)||N(ye)})}d(C),X(()=>{V(I,e.templateName),_t(re,"title",t(r)?"Expand":"Collapse")}),Ge(3,C,()=>Xe,()=>({duration:300})),k(g,C)};Y(a,g=>{e.visible&&g(u)})}k(o,w),Me()}He(["click","keydown"]);var dr=L('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Processing...',1),lr=L('Apply <kbd class="ml-1 px-1.5 py-0.5 bg-blue-500 rounded text-xs"> </kbd>',1),cr=L('<div class="mb-6 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><!> <div><span class="text-sm text-gray-500 dark:text-gray-400">Repeat last:</span> <span class="text-sm font-medium text-gray-900 dark:text-gray-100 ml-1"> </span></div></div> <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait transition-colors"><!></button></div></div>'),ur=L('<div class="mb-8"><h2 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Your Templates</h2> <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div></div>'),vr=L('<div class="mb-8 p-8 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 text-center"><p class="text-gray-500 dark:text-gray-400 mb-4">No starred templates yet. Star your favorites for quick access!</p> <div class="flex items-center justify-center gap-4"><a href="/templates" class="px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors">Browse Templates</a> <button class="px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"> </button></div></div>'),pr=L('<div class="max-w-4xl mx-auto"><div class="flex items-center justify-between mb-8"><div><h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-1">Clipboard Converter</h1> <p class="text-gray-500 dark:text-gray-400 text-sm">Click a template to transform clipboard text instantly</p></div></div> <!> <!> <!> <div class="m-8 text-center"><button class="inline-flex items-center gap-2 px-4 py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"><!> Press <kbd class="px-1.5 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs font-medium"> </kbd> to search all templates</button></div> <!></div>');function $r(o,e){ze(e,!0);const s=()=>Le(Ne,"$templateStore",v),r=()=>Le(wt,"$recentTemplates",v),n=()=>Le($t,"$starredTemplates",v),[v,i]=xt();let p=P(!1),h=P(null),m=P(!1),$=P(""),z=P(""),F=P(""),f=P(!1);const y=oe(s);function _(x){c(h,x.template,!0),c($,x.input,!0),c(z,x.output,!0),c(F,x.template.name,!0),c(m,!0)}async function w(){if(!(!t(h)||t(f))){c(f,!0);try{const x=await De();if(!x.trim()){S.warning("Clipboard is empty"),c(f,!1);return}const A=Pe(x,t(h).transformations),R=await we(A);Ne.incrementUsageCount(t(h).id),We.add(t(h).id),c($,x,!0),c(z,A,!0),c(F,t(h).name,!0),c(m,!0),R?S.success("Transformed and copied!"):S.info("Transformed! Click Copy to copy result.")}catch(x){x instanceof Error?S.error(x.message):S.error("Failed to transform")}finally{c(f,!1)}}}function a(){c(m,!1)}function u(x){(x.metaKey||x.ctrlKey)&&x.key==="k"&&(x.preventDefault(),c(p,!0)),(x.metaKey||x.ctrlKey)&&x.key==="Enter"&&t(h)&&(x.preventDefault(),w()),x.key==="Escape"&&(t(p)?c(p,!1):t(m)&&c(m,!1))}ke(()=>{!t(h)&&r().length>0&&c(h,r()[0],!0)});const C=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"Ctrl";var E=pr();ce("keydown",et,u);var M=b(l(E),2);{var U=x=>{var A=cr(),R=l(A),K=l(R),J=l(K);Dt(J,{size:18,class:"text-gray-400 dark:text-gray-500"});var ye=b(J,2),N=b(l(ye),2),B=l(N,!0);d(N),d(ye),d(K);var H=b(K,2);H.__click=w;var ee=l(H);{var ve=G=>{var j=dr();fe(),k(G,j)},xe=G=>{var j=lr(),be=b(W(j)),he=l(be);d(be),X(()=>V(he,`${C}+Enter`)),k(G,j)};Y(ee,G=>{t(f)?G(ve):G(xe,!1)})}d(H),d(R),d(A),X(()=>{V(B,t(h).name),H.disabled=t(f)}),k(x,A)};Y(M,x=>{t(h)&&x(U)})}var D=b(M,2);{var T=x=>{var A=ur(),R=b(l(A),2);Ie(R,5,n,K=>K.id,(K,J)=>{Gt(K,{get template(){return t(J)},onTransform:_})}),d(R),d(A),k(x,A)},I=x=>{var A=vr(),R=b(l(A),2),K=b(l(R),2);K.__click=()=>c(p,!0);var J=l(K);d(K),d(R),d(A),X(()=>V(J,`Search (${C}+K)`)),k(x,A)};Y(D,x=>{n().length>0?x(T):x(I,!1)})}var Z=b(D,2);ir(Z,{get visible(){return t(m)},get templateName(){return t(F)},get input(){return t($)},get output(){return t(z)},onHide:a});var Q=b(Z,2),O=l(Q);O.__click=()=>c(p,!0);var te=l(O);It(te,{size:16});var me=b(te,2),re=l(me);d(me),fe(),d(O),d(Q);var ue=b(Q,2);Jt(ue,{get open(){return t(p)},get templates(){return t(y)},onClose:()=>c(p,!1),onTransform:_}),d(E),X(()=>V(re,`${C}+K`)),k(o,E),Me(),i()}He(["click"]);export{$r as component};
